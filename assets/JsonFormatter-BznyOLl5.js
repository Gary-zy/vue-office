import{d as V,c as D,o as C,v as ne,a as v,H as te,b as oe,e as le,q as y,f as R,w as n,g as u,h as re,r as a,j as t,k as l,ar as se,l as ae,t as U,av as ue}from"./index-Iy6KDkAz.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as O}from"./CheckmarkCircleOutline-r2x9oe3a.js";import{T as de}from"./TrashOutline-Cc7vML9h.js";import{C as pe}from"./CopyOutline-DrEd-_Mg.js";import{D as me}from"./DownloadOutline-D2K535ag.js";import{W as ce}from"./WarningOutline-BKJKsRuu.js";const fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ve=V({name:"ContractOutline",render:function(s,g){return C(),D("svg",fe,g[0]||(g[0]=[ne('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M304 416V304h112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M314.2 314.23L432 432"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 96v112H96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M197.8 197.77L80 80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M416 208H304V96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M314.23 197.8L432 80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M96 304h112v112"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M197.77 314.2L80 432"></path>',8)]))}}),ke={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ge=V({name:"ShieldCheckmarkOutline",render:function(s,g){return C(),D("svg",ke,g[0]||(g[0]=[v("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 176L225.2 304L176 255.8"},null,-1),v("path",{d:"M463.1 112.37C373.68 96.33 336.71 84.45 256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464c15.42-6.21 223.3-94.87 207.1-351.63z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),_e={class:"json-formatter-page"},we={class:"content-container"},ye={class:"page-header"},Oe={class:"page-title"},Se={__name:"JsonFormatter",setup(M){const s=te(),g=oe(),A=le(()=>g.isDark),i=y(""),p=y(""),c=y(""),k=y(void 0),N=y(2),j=y(!1),I={user:{name:"张三",age:25,email:"zhangsan@example.com",phone:"13800138000",address:{province:"北京市",city:"朝阳区",street:"某某街道123号"}},array:{users:[{id:1,name:"张三",role:"admin"},{id:2,name:"李四",role:"user"},{id:3,name:"王五",role:"guest"}]},nested:{company:{name:"某某科技有限公司",departments:[{id:1,name:"技术部",employees:[{id:101,name:"张三",position:"前端工程师"},{id:102,name:"李四",position:"后端工程师"}]},{id:2,name:"产品部",employees:[{id:201,name:"王五",position:"产品经理"}]}]}},complex:{status:"success",code:200,message:"请求成功",data:{list:[{id:1,title:"文章标题1",content:"文章内容...",tags:["Vue","JavaScript","前端"],author:{id:1001,name:"作者1",avatar:"https://example.com/avatar1.jpg"},stats:{views:1234,likes:56,comments:12},publishTime:"2024-01-20T10:00:00Z",isPublished:!0}],pagination:{page:1,pageSize:10,total:100}}}},b=()=>{if(!i.value.trim()){k.value=void 0,c.value="";return}try{JSON.parse(i.value),k.value="success",c.value=""}catch(o){k.value="error",c.value=`JSON 格式错误: ${o.message}`}},E=()=>{if(!i.value.trim()){s.warning("请输入 JSON 数据");return}try{let o=i.value.replace(/'/g,'"'),e=JSON.parse(o);j.value&&(e=$(e)),p.value=JSON.stringify(e,null,N.value),k.value="success",c.value="",s.success("格式化成功")}catch(o){k.value="error",c.value=`格式化失败: ${o.message}`,s.error("格式化失败，请检查 JSON 格式")}},H=()=>{if(!i.value.trim()){s.warning("请输入 JSON 数据");return}try{const o=JSON.parse(i.value);p.value=JSON.stringify(o),s.success("压缩成功")}catch{s.error("压缩失败，请检查 JSON 格式")}},K=()=>{if(!i.value.trim()){s.warning("请输入 JSON 数据");return}try{const o=JSON.parse(i.value),e=new Blob([JSON.stringify(o)]).size;s.success(`JSON 格式正确！数据大小: ${B(e)}`,{duration:3e3}),k.value="success",c.value="",p.value=`✅ JSON 验证通过

数据类型: ${typeof o}
数据大小: ${B(e)}
${G(o)}`}catch(o){k.value="error",c.value=`验证失败: ${o.message}`,s.error("JSON 格式错误"),p.value=`❌ JSON 验证失败

错误信息: ${o.message}`}},F=()=>{i.value="",p.value="",c.value="",k.value=void 0,s.success("已清空")},W=async()=>{if(!p.value){s.warning("没有可复制的内容");return}try{await navigator.clipboard.writeText(p.value),s.success("已复制到剪贴板")}catch{s.error("复制失败")}},q=()=>{if(!p.value){s.warning("没有可下载的内容");return}const o=new Blob([p.value],{type:"application/json"}),e=URL.createObjectURL(o),r=document.createElement("a");r.href=e,r.download=`formatted-${Date.now()}.json`,r.click(),URL.revokeObjectURL(e),s.success("文件已下载")},S=o=>{i.value=JSON.stringify(I[o],null,2),b(),s.success("示例已加载")},$=o=>Array.isArray(o)?o.map($):o!==null&&typeof o=="object"?Object.keys(o).sort().reduce((e,r)=>(e[r]=$(o[r]),e),{}):o,B=o=>{if(o===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(o)/Math.log(e));return Math.round(o/Math.pow(e,d)*100)/100+" "+r[d]},G=o=>{let e="";if(Array.isArray(o))e+=`数组长度: ${o.length}
`;else if(typeof o=="object"&&o!==null){const r=Object.keys(o);e+=`对象键数: ${r.length}
`,r.length>0&&(e+=`键名列表: ${r.slice(0,10).join(", ")}${r.length>10?"...":""}`)}return e};return(o,e)=>{const r=a("n-icon"),d=a("n-button"),f=a("n-space"),h=a("n-text"),z=a("n-radio-button"),P=a("n-radio-group"),Z=a("n-divider"),Q=a("n-checkbox"),L=a("n-input"),x=a("n-alert"),_=a("n-card"),w=a("n-grid-item"),T=a("n-grid"),J=a("n-thing"),X=a("n-layout-content"),Y=a("n-layout"),ee=a("n-config-provider");return C(),R(ee,{theme:A.value?u(re):null},{default:n(()=>[v("div",_e,[t(Y,null,{default:n(()=>[t(X,{class:"formatter-content"},{default:n(()=>[v("div",we,[v("div",ye,[v("h1",Oe,[t(r,{component:u(se)},null,8,["component"]),e[8]||(e[8]=l(" JSON 格式化工具 ",-1))]),e[9]||(e[9]=v("p",{class:"page-subtitle"}," JSON 格式化、验证、压缩、美化一站式解决方案 ",-1))]),t(_,null,{default:n(()=>[t(f,{vertical:"",size:16},{default:n(()=>[t(f,{justify:"space-between",wrap:""},{default:n(()=>[t(f,{wrap:""},{default:n(()=>[t(d,{type:"primary",onClick:E},{icon:n(()=>[t(r,{component:u(O)},null,8,["component"])]),default:n(()=>[e[10]||(e[10]=l(" 格式化 ",-1))]),_:1}),t(d,{onClick:H},{icon:n(()=>[t(r,{component:u(ve)},null,8,["component"])]),default:n(()=>[e[11]||(e[11]=l(" 压缩 ",-1))]),_:1}),t(d,{onClick:K},{icon:n(()=>[t(r,{component:u(ge)},null,8,["component"])]),default:n(()=>[e[12]||(e[12]=l(" 验证 ",-1))]),_:1}),t(d,{onClick:F},{icon:n(()=>[t(r,{component:u(de)},null,8,["component"])]),default:n(()=>[e[13]||(e[13]=l(" 清空 ",-1))]),_:1})]),_:1}),t(f,{wrap:""},{default:n(()=>[t(d,{onClick:W},{icon:n(()=>[t(r,{component:u(pe)},null,8,["component"])]),default:n(()=>[e[14]||(e[14]=l(" 复制 ",-1))]),_:1}),t(d,{onClick:q},{icon:n(()=>[t(r,{component:u(me)},null,8,["component"])]),default:n(()=>[e[15]||(e[15]=l(" 下载 ",-1))]),_:1})]),_:1})]),_:1}),t(f,{align:"center"},{default:n(()=>[t(h,null,{default:n(()=>[...e[16]||(e[16]=[l("缩进空格数：",-1)])]),_:1}),t(P,{value:N.value,"onUpdate:value":e[0]||(e[0]=m=>N.value=m)},{default:n(()=>[t(z,{value:2},{default:n(()=>[...e[17]||(e[17]=[l("2",-1)])]),_:1}),t(z,{value:4},{default:n(()=>[...e[18]||(e[18]=[l("4",-1)])]),_:1}),t(z,{value:8},{default:n(()=>[...e[19]||(e[19]=[l("8",-1)])]),_:1})]),_:1},8,["value"]),t(Z,{vertical:""}),t(Q,{checked:j.value,"onUpdate:checked":e[1]||(e[1]=m=>j.value=m)},{default:n(()=>[...e[20]||(e[20]=[l(" 排序键名 ",-1)])]),_:1},8,["checked"])]),_:1}),t(T,{cols:2,"x-gap":16,responsive:"screen"},{default:n(()=>[t(w,null,{default:n(()=>[t(_,{title:"输入 JSON",size:"small"},{"header-extra":n(()=>[t(f,null,{default:n(()=>[t(h,{depth:"3",style:{"font-size":"12px"}},{default:n(()=>[l(" 字符数: "+U(i.value.length),1)]),_:1})]),_:1})]),default:n(()=>[t(L,{value:i.value,"onUpdate:value":e[2]||(e[2]=m=>i.value=m),type:"textarea",placeholder:'请输入 JSON 数据，例如：{"name": "张三", "age": 25}',autosize:{minRows:20,maxRows:30},status:k.value,onInput:b},null,8,["value","status"]),c.value?(C(),R(f,{key:0,style:{"margin-top":"12px"}},{default:n(()=>[t(x,{type:"error",title:c.value,closable:""},null,8,["title"])]),_:1})):ae("",!0)]),_:1})]),_:1}),t(w,null,{default:n(()=>[t(_,{title:"输出结果",size:"small"},{"header-extra":n(()=>[t(f,null,{default:n(()=>[t(h,{depth:"3",style:{"font-size":"12px"}},{default:n(()=>[l(" 字符数: "+U(p.value.length),1)]),_:1})]),_:1})]),default:n(()=>[t(L,{value:p.value,"onUpdate:value":e[3]||(e[3]=m=>p.value=m),type:"textarea",placeholder:"格式化后的结果将显示在这里",autosize:{minRows:20,maxRows:30},readonly:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(_,{title:"快速示例",style:{"margin-top":"24px"}},{default:n(()=>[t(f,null,{default:n(()=>[t(d,{onClick:e[4]||(e[4]=m=>S("user"))},{default:n(()=>[...e[21]||(e[21]=[l("用户数据",-1)])]),_:1}),t(d,{onClick:e[5]||(e[5]=m=>S("array"))},{default:n(()=>[...e[22]||(e[22]=[l("数组数据",-1)])]),_:1}),t(d,{onClick:e[6]||(e[6]=m=>S("nested"))},{default:n(()=>[...e[23]||(e[23]=[l("嵌套对象",-1)])]),_:1}),t(d,{onClick:e[7]||(e[7]=m=>S("complex"))},{default:n(()=>[...e[24]||(e[24]=[l("复杂数据",-1)])]),_:1})]),_:1})]),_:1}),t(_,{title:"功能特性",style:{"margin-top":"24px"}},{default:n(()=>[t(T,{cols:2,"x-gap":24,"y-gap":16,responsive:"screen"},{default:n(()=>[t(w,null,{default:n(()=>[t(J,null,{avatar:n(()=>[t(r,{component:u(O),color:"#18a058",size:"24"},null,8,["component"])]),header:n(()=>[...e[25]||(e[25]=[l("JSON 格式化",-1)])]),description:n(()=>[...e[26]||(e[26]=[l(" 自动美化 JSON，支持自定义缩进 ",-1)])]),_:1})]),_:1}),t(w,null,{default:n(()=>[t(J,null,{avatar:n(()=>[t(r,{component:u(O),color:"#18a058",size:"24"},null,8,["component"])]),header:n(()=>[...e[27]||(e[27]=[l("JSON 验证",-1)])]),description:n(()=>[...e[28]||(e[28]=[l(" 实时验证 JSON 语法，显示错误位置 ",-1)])]),_:1})]),_:1}),t(w,null,{default:n(()=>[t(J,null,{avatar:n(()=>[t(r,{component:u(O),color:"#18a058",size:"24"},null,8,["component"])]),header:n(()=>[...e[29]||(e[29]=[l("JSON 压缩",-1)])]),description:n(()=>[...e[30]||(e[30]=[l(" 移除空格和换行，压缩 JSON 体积 ",-1)])]),_:1})]),_:1}),t(w,null,{default:n(()=>[t(J,null,{avatar:n(()=>[t(r,{component:u(O),color:"#18a058",size:"24"},null,8,["component"])]),header:n(()=>[...e[31]||(e[31]=[l("键名排序",-1)])]),description:n(()=>[...e[32]||(e[32]=[l(" 按字母顺序排序 JSON 键名 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(_,{title:"使用技巧",style:{"margin-top":"24px"}},{default:n(()=>[t(f,{vertical:""},{default:n(()=>[t(x,{type:"info"},{icon:n(()=>[t(r,{component:u(ue)},null,8,["component"])]),default:n(()=>[e[33]||(e[33]=v("strong",null,"提示：",-1)),e[34]||(e[34]=l("支持粘贴包含单引号的 JSON，工具会自动转换为标准的双引号格式 ",-1))]),_:1}),t(x,{type:"success"},{icon:n(()=>[t(r,{component:u(O)},null,8,["component"])]),default:n(()=>[e[35]||(e[35]=v("strong",null,"技巧：",-1)),e[36]||(e[36]=l("输入 JSON 后会自动验证，红色边框表示格式错误 ",-1))]),_:1}),t(x,{type:"warning"},{icon:n(()=>[t(r,{component:u(ce)},null,8,["component"])]),default:n(()=>[e[37]||(e[37]=v("strong",null,"注意：",-1)),e[38]||(e[38]=l("请勿输入包含敏感信息的 JSON 数据，所有处理均在浏览器本地完成 ",-1))]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1},8,["theme"])}}},ze=ie(Se,[["__scopeId","data-v-70ed3500"]]);export{ze as default};
