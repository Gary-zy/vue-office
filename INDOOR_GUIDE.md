# 室内导览工具说明

## 📍 功能概述

室内导览工具是一个专为博物馆、展览馆等室内场所设计的导览系统，支持多楼层切换、展区标点、设施定位等功能。

## ✨ 核心功能

### 1. 多楼层导览
- ✅ 支持多个楼层（F2、F1、B1等）
- ✅ 楼层间快速切换
- ✅ 楼层选择器（右侧垂直导航）
- ✅ 自动定位到对应楼层

### 2. 展区标点
- ✅ 展区位置可视化
- ✅ 点击查看详情
- ✅ 展品列表展示
- ✅ 不同类型展区颜色区分

### 3. 设施定位
- ✅ 快速访问按钮（洗手间、电梯等）
- ✅ 设施类型过滤
- ✅ 设施位置标记
- ✅ 一键定位

### 4. 搜索功能
- ✅ 搜索展区名称
- ✅ 搜索展品名称
- ✅ 跨楼层搜索
- ✅ 自动跳转到结果楼层

### 5. 扫码讲解
- ✅ 二维码生成
- ✅ 语音讲解链接
- ✅ 扫码功能演示

### 6. 地图交互
- ✅ SVG 平面图渲染
- ✅ 缩放控制（放大、缩小、重置）
- ✅ 点击查看详情
- ✅ 响应式布局

## 🎨 技术实现

### 技术栈
- **Vue 3** - 前端框架
- **SVG** - 楼层平面图绘制
- **Naive UI** - UI 组件库
- **qrcode** - 二维码生成

### 数据结构

#### 楼层数据
```json
{
  "id": "floor-1",
  "name": "F1",
  "level": 1,
  "title": "一层展厅",
  "svg": {
    "width": 800,
    "height": 600,
    "viewBox": "0 0 800 600"
  },
  "rooms": [...],
  "facilities": [...],
  "corridors": [...]
}
```

#### 房间/展区
```json
{
  "id": "room-1",
  "name": "猛犸象展厅",
  "type": "exhibition",
  "x": 100,
  "y": 150,
  "width": 180,
  "height": 120,
  "description": "展示猛犸象化石和复原模型",
  "exhibits": ["猛犸象骨架", "猛犸象复原模型"]
}
```

#### 设施
```json
{
  "id": "facility-1",
  "name": "洗手间",
  "type": "restroom",
  "x": 50,
  "y": 50,
  "icon": "🚻"
}
```

### 房间类型

| 类型 | 标签 | 颜色 | 说明 |
|------|------|------|------|
| `exhibition` | 展厅 | 绿色 | 展览区域 |
| `info` | 游客中心 | 蓝色 | 信息咨询 |
| `shop` | 商店 | 橙色 | 纪念品商店 |
| `restaurant` | 餐厅 | 粉色 | 餐饮区域 |

### 设施类型

| 类型 | 图标 | 颜色 | 说明 |
|------|------|------|------|
| `restroom` | 🚻 | 蓝色 | 洗手间 |
| `accessible-restroom` | ♿ | 绿色 | 无障碍卫生间 |
| `escalator` | ⬆️ | 橙色 | 手扶电梯 |
| `elevator` | 🛗 | 紫色 | 电梯 |
| `entrance` | 🚪 | 粉色 | 出入口 |

## 🎯 使用说明

### 1. 选择楼层
- 点击右侧楼层选择器
- 或使用上下箭头切换

### 2. 查看展区
- 点击地图上的展区矩形
- 查看展区详情和展品列表

### 3. 查找设施
- 点击顶部快速设施按钮
- 或直接点击地图上的设施标记

### 4. 搜索功能
- 在搜索框输入关键词
- 支持搜索展区名称和展品名称
- 自动跳转到结果所在楼层

### 5. 缩放控制
- 使用右下角缩放按钮
- 或使用鼠标滚轮（需实现）

## 📊 当前示例数据

### 自然博物馆
包含 3 个楼层：

#### F2（二层）
- 猛犸象展厅
- 林瓣蹼鹬展区
- 格陵兰驯鹿
- 南极狼展区
- 失落的世界
- 阿特拉斯棕熊

#### F1（一层）
- 斑驴展区
- 马羚展区
- 日本海狮
- 游客中心
- 纪念品商店
- 咖啡厅

#### B1（地下一层）
- 地震波的传播
- 地球的低吟
- 危化品安全
- 重于泰山

## 🔧 自定义扩展

### 添加新楼层

编辑 `src/assets/mock/indoor-guide.json`：

```json
{
  "id": "floor-3",
  "name": "F3",
  "level": 3,
  "title": "三层展厅",
  "svg": {
    "width": 800,
    "height": 600,
    "viewBox": "0 0 800 600"
  },
  "rooms": [
    {
      "id": "room-20",
      "name": "新展区",
      "type": "exhibition",
      "x": 100,
      "y": 100,
      "width": 200,
      "height": 150,
      "description": "展区描述",
      "exhibits": ["展品1", "展品2"]
    }
  ],
  "facilities": [...],
  "corridors": [...]
}
```

### 坐标系统

- 使用 SVG 坐标系统
- X 轴：从左到右（0-800）
- Y 轴：从上到下（0-600）
- 原点：左上角 (0, 0)

### 绘制走廊

```json
{
  "id": "corridor-1",
  "points": [
    { "x": 100, "y": 100 },
    { "x": 200, "y": 100 },
    { "x": 200, "y": 200 }
  ],
  "width": 40
}
```

## 🚀 未来扩展

### 可能的增强功能

- 🔜 3D 视图（使用 Three.js）
- 🔜 路径规划（从当前位置到目标展区）
- 🔜 AR 增强现实（手机扫描）
- 🔜 实时定位（蓝牙/iBeacon）
- 🔜 语音导览集成
- 🔜 多语言支持
- 🔜 收藏功能
- 🔜 游览历史记录
- 🔜 人群密度显示
- 🔜 无障碍路线规划

## 📝 技术亮点

1. **SVG 平面图** - 轻量级、可缩放、不失真
2. **响应式设计** - 适配桌面和移动端
3. **模块化架构** - 易于扩展和维护
4. **Mock 数据** - 完全本地化，无需后端
5. **交互体验** - 流畅的楼层切换和详情查看

## 🎉 总结

室内导览工具是一个功能完整的室内导航系统，适用于：
- 博物馆
- 展览馆
- 购物中心
- 医院
- 学校
- 办公楼

通过 SVG 技术和 Vue 3 的组合，实现了高性能、可定制的室内导览解决方案。

---

**路由**: `/tools/indoor-guide`

**导航**: 工具 → 可视化工具 → 室内导览

