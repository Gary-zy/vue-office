# AI 对话助手使用指南

## 功能概述

AI 对话助手是基于 SiliconFlow API 的智能对话工具，支持多种先进的 AI 模型，提供强大的对话能力。

## 快速开始

### 1. 获取 API Key

访问 [SiliconFlow 官网](https://cloud.siliconflow.cn) 注册账号并获取 API Key。

### 2. 配置 API Key

1. 进入 AI 对话助手页面
2. 点击"显示设置"按钮
3. 在"API Key"输入框中输入您的 API Key
4. 点击"测试连接"验证 API Key 是否有效

### 3. 开始对话

1. 在下方输入框中输入您的问题
2. 按 `Ctrl+Enter` (Mac: `Cmd+Enter`) 或点击"发送"按钮
3. 等待 AI 回复

## 支持的模型

| 模型名称 | 模型 ID | 说明 |
|---------|---------|------|
| DeepSeek V3.1 | deepseek-ai/DeepSeek-V3.1 | DeepSeek 最新版本 |
| DeepSeek V3 | deepseek-ai/DeepSeek-V3 | DeepSeek 稳定版本 |
| Qwen QwQ-32B | Qwen/QwQ-32B | 通义千问 32B 参数模型 |
| Kimi K2 | moonshotai/Kimi-K2-Instruct-0905 | Moonshot AI Kimi K2 |
| Kimi Dev 72B | moonshotai/Kimi-Dev-72B | Moonshot AI 72B 参数模型 |
| ERNIE 4.5 | baidu/ERNIE-4.5-300B-A47B | 百度文心一言 4.5 |

## 高级参数

### Temperature (温度)
- **范围**: 0 - 2
- **默认值**: 0.7
- **说明**: 控制生成文本的随机性
  - 较低的值 (0-0.5): 更确定、一致的回答
  - 中等的值 (0.5-1.0): 平衡的创造性和一致性
  - 较高的值 (1.0-2.0): 更有创造性、多样化的回答

### Max Tokens (最大令牌数)
- **范围**: 100 - 32768
- **默认值**: 8192
- **说明**: 限制 AI 生成的最大文本长度
  - 短回答: 100-500 tokens
  - 中等回答: 500-2000 tokens
  - 长回答: 2000-8000 tokens
  - 超长回答: 8000+ tokens

### Top P (核采样)
- **范围**: 0.1 - 1.0
- **默认值**: 0.7
- **说明**: 控制生成文本的多样性
  - 较低的值 (0.1-0.5): 更保守、可预测的输出
  - 较高的值 (0.7-1.0): 更多样化的输出

## 调试功能

### 调试日志
点击"调试日志"按钮可以查看：
- API 请求详情
- 响应状态码
- 错误信息
- Token 使用统计

### 测试连接
在设置中点击"测试连接"可以快速验证：
- API Key 是否有效
- 网络连接是否正常
- API 服务是否可用

## 常见问题

### 1. 网络请求失败

**错误信息**: "网络请求失败，可能是跨域问题或网络连接问题"

**可能原因**:
- 网络连接不稳定
- 浏览器 CORS 限制
- 防火墙或代理设置

**解决方案**:
1. 检查网络连接
2. 查看浏览器控制台获取详细错误
3. 尝试使用代理或 VPN
4. 如果是本地开发，考虑配置 Vite 代理

### 2. API Key 无效

**错误信息**: "API Key 无效，请检查您的 API Key 是否正确"

**解决方案**:
1. 确认 API Key 是否正确复制
2. 检查 API Key 是否已过期
3. 验证账号是否有足够的额度
4. 使用"测试连接"功能验证

### 3. API 请求频率超限

**错误信息**: "API 请求频率超限，请稍后再试"

**解决方案**:
1. 等待几分钟后重试
2. 检查账号的 API 调用限制
3. 考虑升级到更高的套餐

### 4. API 服务器错误

**错误信息**: "API 服务器错误，请稍后再试"

**解决方案**:
1. 等待几分钟后重试
2. 检查 SiliconFlow 服务状态
3. 尝试切换到其他模型

### 5. 未收到有效的回复内容

**可能原因**:
- 模型不支持当前请求
- 请求参数配置错误
- API 返回格式异常

**解决方案**:
1. 查看调试日志获取详细信息
2. 尝试降低 max_tokens 参数
3. 切换到其他模型重试

## 最佳实践

### 1. 提示词技巧
- 明确、具体地描述您的需求
- 提供足够的上下文信息
- 使用示例帮助 AI 理解您的意图
- 分步骤提问复杂问题

### 2. 参数调优
- 创意写作: `temperature=1.0-1.5`, `top_p=0.9`
- 代码生成: `temperature=0.3-0.5`, `top_p=0.7`
- 事实问答: `temperature=0.1-0.3`, `top_p=0.5`
- 通用对话: `temperature=0.7`, `top_p=0.7`

### 3. 对话管理
- 系统会自动保留最近 20 轮对话
- 定期清空对话以避免上下文混乱
- 重要对话记得及时复制保存

### 4. 成本控制
- 根据需求设置合适的 max_tokens
- 避免不必要的长对话历史
- 选择适合任务的模型（不一定要用最大的）

## API 文档

- [SiliconFlow API 文档](https://docs.siliconflow.cn)
- [Chat Completions API](https://docs.siliconflow.cn/cn/api-reference/chat-completions/messages)

## 技术架构

### 前端
- Vue 3 Composition API
- Naive UI 组件库
- Fetch API 进行网络请求

### API 集成
- Endpoint: `https://api.siliconflow.cn/v1/chat/completions`
- 认证方式: Bearer Token
- 请求格式: JSON
- 响应格式: JSON (OpenAI 兼容)

### 特性
- 实时对话
- 消息历史管理
- 参数可配置
- 错误处理
- 调试日志
- Token 统计

## 安全提示

⚠️ **重要**: 
- 不要将您的 API Key 分享给他人
- 不要在公共环境中使用
- 定期检查 API 使用情况
- 如果 API Key 泄露，请立即重置

## 更新日志

### v1.0.0 (2025-01-06)
- ✅ 初始版本
- ✅ 支持多种 AI 模型
- ✅ 高级参数配置
- ✅ 调试日志功能
- ✅ API Key 管理
- ✅ 测试连接功能
- ✅ 消息复制和重新生成
- ✅ Token 使用统计

## 反馈与支持

如果您遇到问题或有改进建议，请：
1. 查看调试日志获取错误详情
2. 检查本文档的常见问题部分
3. 访问 SiliconFlow 官方文档
4. 联系技术支持

